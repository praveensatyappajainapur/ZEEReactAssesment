{"ast":null,"code":"import _objectSpread from \"C:/Users/BHARAT KUMAR REDDY G/Documents/Projects/Personal/ZEEReactAssesment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"C:/Users/BHARAT KUMAR REDDY G/Documents/Projects/Personal/ZEEReactAssesment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"C:/Users/BHARAT KUMAR REDDY G/Documents/Projects/Personal/ZEEReactAssesment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/BHARAT KUMAR REDDY G/Documents/Projects/Personal/ZEEReactAssesment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/BHARAT KUMAR REDDY G/Documents/Projects/Personal/ZEEReactAssesment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\BHARAT KUMAR REDDY G\\\\Documents\\\\Projects\\\\Personal\\\\ZEEReactAssesment\\\\src\\\\components\\\\Dashboard.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useMemo } from \"react\";\nimport Pagination from \"./Pagination\";\nimport Search from \"./Search\";\nimport Table from \"./Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar LIMIT = 10;\nvar BASE_URL = \"https://jsonplaceholder.typicode.com\";\n\nvar Dashboard = function Dashboard() {\n  _s();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchValue = _useState2[0],\n      _setSearchedValue = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      postsList = _useState4[0],\n      setPostsList = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      activePage = _useState6[0],\n      setActivePage = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      editData = _useState8[0],\n      setEditData = _useState8[1];\n\n  var getPostsList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var posts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"\".concat(BASE_URL, \"/posts\")).then(function (res) {\n                return res.json();\n              });\n\n            case 2:\n              posts = _context.sent;\n              setPostsList(posts);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getPostsList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onEdit = function onEdit(data) {\n    setEditData(data);\n  };\n\n  var onSave = function onSave() {\n    setEditData({});\n  };\n\n  var onDelete = function onDelete(id) {\n    var list = _toConsumableArray(postsList);\n\n    list.splice(id, 1);\n    setPostsList(list);\n  };\n\n  var onChangeEdit = function onChangeEdit(value, id) {\n    var list = _toConsumableArray(postsList);\n\n    list.splice(id - 1, 1, _objectSpread(_objectSpread({}, editData), {}, {\n      title: value\n    }));\n    setPostsList(list);\n  };\n\n  useEffect(function () {\n    console.log(\"render\");\n    getPostsList();\n  }, []);\n  var filteredData = useMemo(function () {\n    return !searchValue ? postsList : postsList.filter(function (item) {\n      return item.title.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1;\n    });\n  }, [searchValue]);\n  var perPageData = useMemo(function () {\n    return filteredData.slice(activePage * LIMIT, activePage * LIMIT + LIMIT);\n  }, [filteredData, activePage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-3\",\n            children: /*#__PURE__*/_jsxDEV(Search, {\n              searchValue: searchValue,\n              setSearchedValue: function setSearchedValue(value) {\n                _setSearchedValue(value);\n\n                setActivePage(0);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Table, {\n        postsList: perPageData,\n        onEdit: onEdit,\n        editData: editData,\n        onChangeEdit: onChangeEdit,\n        onSave: onSave,\n        onDelete: onDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(Pagination, {\n            rowsPerPageOptions: [5, 10, 20, 30, 50],\n            count: filteredData.length,\n            rowsPerPage: LIMIT,\n            activePage: activePage,\n            onChangePage: setActivePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Dashboard, \"NGcBXDwGZG6jy0JkUCKZcQwwMHU=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useState","useEffect","useMemo","Pagination","Search","Table","LIMIT","BASE_URL","Dashboard","searchValue","setSearchedValue","postsList","setPostsList","activePage","setActivePage","editData","setEditData","getPostsList","fetch","then","res","json","posts","onEdit","data","onSave","onDelete","id","list","splice","onChangeEdit","value","title","console","log","filteredData","filter","item","toLowerCase","indexOf","perPageData","slice","length"],"sources":["C:/Users/BHARAT KUMAR REDDY G/Documents/Projects/Personal/ZEEReactAssesment/src/components/Dashboard.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\r\nimport Pagination from \"./Pagination\";\r\nimport Search from \"./Search\";\r\nimport Table from \"./Table\";\r\n\r\nconst LIMIT = 10;\r\nconst BASE_URL = \"https://jsonplaceholder.typicode.com\";\r\n\r\nconst Dashboard = () => {\r\n  const [searchValue, setSearchedValue] = useState(\"\");\r\n  const [postsList, setPostsList] = useState([]);\r\n  const [activePage, setActivePage] = useState(0);\r\n  const [editData, setEditData] = useState({});\r\n\r\n  const getPostsList = async () => {\r\n    const posts = await fetch(`${BASE_URL}/posts`).then((res) => res.json());\r\n    setPostsList(posts);\r\n  };\r\n\r\n  const onEdit = (data) => {\r\n    setEditData(data);\r\n  };\r\n\r\n  const onSave = () => {\r\n    setEditData({});\r\n  };\r\n\r\n  const onDelete = (id) => {\r\n    const list = [...postsList];\r\n    list.splice(id, 1);\r\n    setPostsList(list);\r\n  };\r\n\r\n  const onChangeEdit = (value, id) => {\r\n    const list = [...postsList];\r\n    list.splice(id - 1, 1, { ...editData, title: value });\r\n    setPostsList(list);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"render\");\r\n    getPostsList();\r\n  }, []);\r\n\r\n  const filteredData = useMemo(\r\n    () =>\r\n      !searchValue\r\n        ? postsList\r\n        : postsList.filter(\r\n            (item) =>\r\n              item.title.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1\r\n          ),\r\n    [searchValue]\r\n  );\r\n  const perPageData = useMemo(() => {\r\n    return filteredData.slice(activePage * LIMIT, activePage * LIMIT + LIMIT);\r\n  }, [filteredData, activePage]);\r\n\r\n  return (\r\n    <div className=\"p-5\">\r\n      <div className=\"container\">\r\n        <div className=\"row \">\r\n          <div className=\"d-flex justify-content-end\">\r\n            <div className=\"col-3\">\r\n              <Search\r\n                searchValue={searchValue}\r\n                setSearchedValue={(value) => {\r\n                  setSearchedValue(value);\r\n                  setActivePage(0);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Table\r\n          postsList={perPageData}\r\n          onEdit={onEdit}\r\n          editData={editData}\r\n          onChangeEdit={onChangeEdit}\r\n          onSave={onSave}\r\n          onDelete={onDelete}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Pagination\r\n              rowsPerPageOptions={[5, 10, 20, 30, 50]}\r\n              count={filteredData.length}\r\n              rowsPerPage={LIMIT}\r\n              activePage={activePage}\r\n              onChangePage={setActivePage}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Dashboard;\r\n"],"mappings":";;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,OAA9B,QAA6C,OAA7C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,IAAMC,KAAK,GAAG,EAAd;AACA,IAAMC,QAAQ,GAAG,sCAAjB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;EAAA;;EACtB,gBAAwCR,QAAQ,CAAC,EAAD,CAAhD;EAAA;EAAA,IAAOS,WAAP;EAAA,IAAoBC,iBAApB;;EACA,iBAAkCV,QAAQ,CAAC,EAAD,CAA1C;EAAA;EAAA,IAAOW,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAAoCZ,QAAQ,CAAC,CAAD,CAA5C;EAAA;EAAA,IAAOa,UAAP;EAAA,IAAmBC,aAAnB;;EACA,iBAAgCd,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOe,QAAP;EAAA,IAAiBC,WAAjB;;EAEA,IAAMC,YAAY;IAAA,sEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACCC,KAAK,WAAIX,QAAJ,YAAL,CAA2BY,IAA3B,CAAgC,UAACC,GAAD;gBAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;cAAA,CAAhC,CADD;;YAAA;cACbC,KADa;cAEnBV,YAAY,CAACU,KAAD,CAAZ;;YAFmB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAZL,YAAY;MAAA;IAAA;EAAA,GAAlB;;EAKA,IAAMM,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD,EAAU;IACvBR,WAAW,CAACQ,IAAD,CAAX;EACD,CAFD;;EAIA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;IACnBT,WAAW,CAAC,EAAD,CAAX;EACD,CAFD;;EAIA,IAAMU,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD,EAAQ;IACvB,IAAMC,IAAI,sBAAOjB,SAAP,CAAV;;IACAiB,IAAI,CAACC,MAAL,CAAYF,EAAZ,EAAgB,CAAhB;IACAf,YAAY,CAACgB,IAAD,CAAZ;EACD,CAJD;;EAMA,IAAME,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQJ,EAAR,EAAe;IAClC,IAAMC,IAAI,sBAAOjB,SAAP,CAAV;;IACAiB,IAAI,CAACC,MAAL,CAAYF,EAAE,GAAG,CAAjB,EAAoB,CAApB,kCAA4BZ,QAA5B;MAAsCiB,KAAK,EAAED;IAA7C;IACAnB,YAAY,CAACgB,IAAD,CAAZ;EACD,CAJD;;EAMA3B,SAAS,CAAC,YAAM;IACdgC,OAAO,CAACC,GAAR,CAAY,QAAZ;IACAjB,YAAY;EACb,CAHQ,EAGN,EAHM,CAAT;EAKA,IAAMkB,YAAY,GAAGjC,OAAO,CAC1B;IAAA,OACE,CAACO,WAAD,GACIE,SADJ,GAEIA,SAAS,CAACyB,MAAV,CACE,UAACC,IAAD;MAAA,OACEA,IAAI,CAACL,KAAL,CAAWM,WAAX,GAAyBC,OAAzB,CAAiC9B,WAAW,CAAC6B,WAAZ,EAAjC,MAAgE,CAAC,CADnE;IAAA,CADF,CAHN;EAAA,CAD0B,EAQ1B,CAAC7B,WAAD,CAR0B,CAA5B;EAUA,IAAM+B,WAAW,GAAGtC,OAAO,CAAC,YAAM;IAChC,OAAOiC,YAAY,CAACM,KAAb,CAAmB5B,UAAU,GAAGP,KAAhC,EAAuCO,UAAU,GAAGP,KAAb,GAAqBA,KAA5D,CAAP;EACD,CAF0B,EAExB,CAAC6B,YAAD,EAAetB,UAAf,CAFwB,CAA3B;EAIA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,uBACE;MAAK,SAAS,EAAC,WAAf;MAAA,wBACE;QAAK,SAAS,EAAC,MAAf;QAAA,uBACE;UAAK,SAAS,EAAC,4BAAf;UAAA,uBACE;YAAK,SAAS,EAAC,OAAf;YAAA,uBACE,QAAC,MAAD;cACE,WAAW,EAAEJ,WADf;cAEE,gBAAgB,EAAE,0BAACsB,KAAD,EAAW;gBAC3BrB,iBAAgB,CAACqB,KAAD,CAAhB;;gBACAjB,aAAa,CAAC,CAAD,CAAb;cACD;YALH;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,SADF,eAcE,QAAC,KAAD;QACE,SAAS,EAAE0B,WADb;QAEE,MAAM,EAAEjB,MAFV;QAGE,QAAQ,EAAER,QAHZ;QAIE,YAAY,EAAEe,YAJhB;QAKE,MAAM,EAAEL,MALV;QAME,QAAQ,EAAEC;MANZ;QAAA;QAAA;QAAA;MAAA,SAdF,eAsBE;QAAK,SAAS,EAAC,KAAf;QAAA,uBACE;UAAK,SAAS,EAAC,4BAAf;UAAA,uBACE,QAAC,UAAD;YACE,kBAAkB,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,CADtB;YAEE,KAAK,EAAES,YAAY,CAACO,MAFtB;YAGE,WAAW,EAAEpC,KAHf;YAIE,UAAU,EAAEO,UAJd;YAKE,YAAY,EAAEC;UALhB;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,SAtBF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,SADF;AAsCD,CAxFD;;GAAMN,S;;KAAAA,S;AAyFN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}